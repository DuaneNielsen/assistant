// this config reads is stuff from environment variables..
// so set the env variables, dont mess with this!
// (even though you hate the names)

// PROD 
// mongo should resolve to mongo in DNS
// postgres should resolve to postgres in DNS
// POSTGRES_PASSWORD must be passed as ENV variable

var production =  {
    mongo: { 
        ip : 'mongo',
        monk: require('monk')('mongo:27017/assistant')
    },
    postgres: { 
        connectstring : 'postgres://postgres:'+process.env.POSTGRES_PASSWORD+'@'+'postgres:5432/assistant'
    }
    
};


// DEV
// IP = local box IP  (assumes all components local)

var development = {
    mongo: { 
        ip : process.env.IP,
        monk: require('monk')(process.env.IP+':27017/assistant')
    },
    postgres: { 
        connectstring :  'postgres://postgres:_(PI-9pi_(PI@0.0.0.0/assistant'
    }

};

var config = {
    production: production,
    development: development,
    'undefined' : development
};

module.exports = config;
